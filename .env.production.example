# ============================================================================
# SustainSutra - Production Environment Variables
# ============================================================================
# IMPORTANT:
# 1. Copy this file to .env.production and fill in actual values
# 2. DO NOT commit .env.production to version control
# 3. Use strong, unique values for all secrets
# 4. Rotate secrets regularly (every 90 days recommended)
#
# ============================================================================

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
NODE_ENV=production
DOMAIN=your-domain.com
API_URL=https://api.your-domain.com
FRONTEND_URL=https://your-domain.com

# Port Mapping (adjust if using reverse proxy)
FRONTEND_PORT=8085
BACKEND_PORT=5000

# ============================================================================
# SECURITY - CRITICAL
# ============================================================================
# Generate with: openssl rand -base64 64
# CHANGE THIS IMMEDIATELY IN PRODUCTION!
JWT_SECRET=change_this_to_a_secure_random_string_min_64_characters_use_openssl

# JWT Expiration (e.g., 7d, 15d, 30d)
JWT_EXPIRE=7d

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# MongoDB will be accessed via Docker network, no external URI needed
# Internal: mongodb://mongo:27017/sustainsutra

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# IMPORTANT: Change to your actual production domain(s)
# Multiple domains: comma-separated: https://domain1.com,https://domain2.com
CORS_ORIGIN=https://your-domain.com

# ============================================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================================
# For Gmail: https://support.google.com/accounts/answer/185833
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
# Generate Google App Password, do NOT use your regular password
EMAIL_PASS=your-app-password-here
EMAIL_FROM=noreply@sustainsutra.in

# ============================================================================
# PAYMENT GATEWAY (Optional)
# ============================================================================
# Get from: https://dashboard.razorpay.com/
RAZORPAY_KEY_ID=rzp_test_xxxxx
RAZORPAY_KEY_SECRET=test_secret_xxxxx

# ============================================================================
# ERROR TRACKING (Optional)
# ============================================================================
# Get from: https://sentry.io/
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/app/uploads

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_ANALYTICS=false
ENABLE_PWA=true

# ============================================================================
# AI API KEYS (Optional)
# ============================================================================
ZHIPU_API_KEY=your_zhipu_api_key_here
ZHIPU_BASE_URL=https://api.z.ai/api/coding/paas/v4

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
# Cron schedule for automated backups (default: 2 AM daily)
# Format: minute hour day month day-of-week
BACKUP_SCHEDULE=0 2 * * *

# ============================================================================
# VOLUME PATHS (Host System)
# ============================================================================
# Ensure these directories exist on your host system
# Adjust paths based on your server configuration
MONGO_DATA_PATH=/var/lib/sustainsutra/mongo/data
MONGO_CONFIG_PATH=/var/lib/sustainsutra/mongo/config
MONGO_BACKUP_PATH=/var/lib/sustainsutra/mongo/backup
UPLOADS_PATH=/var/lib/sustainsutra/uploads
LOGS_PATH=/var/lib/sustainsutra/logs

# ============================================================================
# DEMO MODE
# ============================================================================
# Set to false in production for data persistence
DEMO_MODE=false
REQUIRE_DB=false

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================
# Set to true if using reverse proxy with SSL (Traefik, Nginx, etc.)
USE_SSL=true
SSL_CERT_PATH=/etc/ssl/certs/sustainsutra.crt
SSL_KEY_PATH=/etc/ssl/private/sustainsutra.key

# ============================================================================
# MONITORING (Optional)
# ============================================================================
# Uptime monitoring endpoints
HEALTH_CHECK_URL=https://your-domain.com/api/health
UPTIME_ROBOT_MONITOR=https://uptimerobot.com

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================
# These should be commented out or removed in production
# DEBUG=*
# LOG_LEVEL=debug
